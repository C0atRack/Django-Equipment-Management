{% extends "equipment_app/base.html" %}

{%load static%}

{%block content%}
<div class="container-fluid">
    <div class="row my-3">
        <div class="col-sm-3 border text-center">
            <img alt="Equipment Photo" class="img-fluid" src="{{object.Img.url}}">
            {% if not object.ManualLink == "" %}
            <a class="btn btn-info my-3" href="{{object.ManualLink}}">Manual</a>
            {%endif%}
        </div>
        <div class="col border">
            <div class="border-0 mb-3 text-wrap">
                <div class="d-flex flex-row align-center">
                    <h5 class="fw-bold">Name:&nbsp</h5>
                    <h5 class="fw-normal">{{ object }}</h5>
                </div>
                <div class="d-flex flex-row align-center">
                    <h5 class="fw-bold">Serial Number:&nbsp</h5>
                    <h5 class="fw-normal">{{ object.SerialNumber }}</h5>
                </div>
                <div class="d-flex flex-row align-center">
                    <h5 class="fw-bold">Asset Tag:&nbsp</h5>
                    <h5 class="fw-normal">{{ object.SerialNumber }}</h5>
                </div>
                <div class="d-flex flex-row align-center">
                    <h5 class="fw-bold">Availibility:&nbsp</h5>
                    {% if object.is_availible %}
                    <h5 class="fw-normal text-success-emphasis">Availible!</h5>
                    {% else %}
                    <h5 class="fw-normal text-danger-emphasis">Checked Out</h5>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col border">
            <h3 class="text-center">Description:</h3>
            <div class="container-sm border border-2 rounded text-break mb-3">
                <p>{{object.Description}}</p>
            </div>
        </div>
    </div>
        <div class="row my-3">
        <div class="col-sm-2 border text-center">
            <div class="my-3">
                <a aria-label="Edit {{object.name}}'s information" class="btn btn-success me-3" href="{{equipment.get_edit_absolute_url}}">Edit</a>
            </div>
            <div class="mb-3">
                <a aria-label="Force check {{object.name}}'s in" class="btn btn-warning me-3" href="{% url 'stub' %}">Force Check In</a>
            </div>
            <div class="mb-3">
                <a aria-label="Delete {{object.name}}" class="btn btn-danger me-3" href="{{object.get_delete_absolute_url}}">Delete</a>
            </div>
        </div>
        <div class="col border">
            <div class="border-0 mb-3 text-wrap text-center">
                {% if object.is_availible %}
                <a aria-label="Delete {{object.name}}" class="btn btn-info btn-lg my-3" href="{{object.get_delete_absolute_url}}">Check out now!</a>
                {%else%}
                {%with checkout_user=object.CheckedOutTo.AffUser%}
                <h4 class="fw-bold">Checked out to:&nbsp</h5>
                <h3 class="fw-bold">{{checkout_user.first_name}} {{checkout_user.last_name}}</h3>
                <h3 class="fw-normal">{{checkout_user.email}}</h3>
                {%endwith%}
                {%endif%}
            </div>
        </div>
    </div>
</div>
{%endblock%}